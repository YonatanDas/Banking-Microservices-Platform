kube-prometheus-stack:
  prometheusOperator:
    admissionWebhooks:
      enabled: false
  
  prometheus:
    prometheusSpec:
      retention: 90d
      storageSpec:
        volumeClaimTemplate:
          spec:
            storageClassName: gp3
            accessModes: ["ReadWriteOnce"]
            resources:
              requests:
                storage: 200Gi

  grafana:
    adminPassword: external-secrets
    service:
      type: ClusterIP  # Internal only - access via port-forward
    persistence:
      enabled: true
      size: 50Gi
      storageClassName: gp3
    datasources:
      datasources.yaml:
        apiVersion: 1
        datasources:
          - name: Prometheus
            type: prometheus
            url: http://kube-prometheus-stack-prometheus:9090
            isDefault: true
          - name: Loki
            type: loki
            url: http://loki-gateway:80


apiVersion: v1
kind: Pod
metadata:
  name: test-valid-all-policies
  namespace: default
  labels:
    app: test-app
spec:
  securityContext:
    runAsNonRoot: true
    runAsUser: 1000
  containers:
  - name: test-container
    image: 063630846340.dkr.ecr.us-east-1.amazonaws.com/accounts:20
    imagePullPolicy: IfNotPresent
    securityContext:
      runAsNonRoot: true
      runAsUser: 1000
      allowPrivilegeEscalation: false
      # Add empty capabilities to satisfy the policy pattern
      capabilities:
        add: []
    resources:
      requests:
        cpu: 100m
        memory: 128Mi
      limits:
        cpu: 500m
        memory: 512Mi
    env:
    - name: ENV_VAR
      value: "non-empty-value"
    ports:
    - containerPort: 8080